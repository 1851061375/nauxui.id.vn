<div class="row justify-content-center">
    <form id="form" class="col-md-6" method="POST" action="store">
        <div class="mb-3">
            <label class="form-label">Order</label>
            <input type="number" name="order" class="form-control">
        </div>
        <div class="mb-3">
            <label class="form-label">Box</label>
            <select name="box" class="form-select form-control">
                <option selected>Select box</option>
                {{#each boxs}}
                    <option value="{{this._id}}">Box {{this.order}}</option>
                {{/each}}
            </select>
        </div>
        <div class="mb-3">
            <label class="form-label">Key</label>
            <select name="key" class="form-select form-control">
                <option selected>Select key</option>
                {{#each keys}}
                    <option value="{{this.key}}">{{this.name}}</option>
                {{/each}}
            </select>
        </div>
        <div class="mb-3">
            <label class="form-label">Content</label>
            <input id="content" name="content" class="form-control">
        </div>
        <button type="submit" class="btn btn-primary">Save</button>
    </form>
</div>

<script src="https://cdn.ckeditor.com/ckeditor5/38.0.1/super-build/ckeditor.js"></script>
<script src="/js/common.js"></script>
<script src="https://code.jquery.com/jquery-3.7.0.js" integrity="sha256-JlqSTELeR4TLqP0OG9dxM7yDPqX1ox/HfgiSLBj8+kM="
    crossorigin="anonymous"></script>

<script>
    $(document).ready(async function() {
        const editor = await common.createEditor(document.getElementById("content"))
        $("#form").on("submit", function(e) {
            e.preventDefault()
            let content = editor.getData();
            $('[name="content"]').val(content);
            this.submit()
        })
    })
</script>